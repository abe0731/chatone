<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chatone-登録不要で無料のチャットツール</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.6 -->
  <link rel="stylesheet" href="/static/adminlte/bootstrap/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="/static/adminlte/dist/css/AdminLTE.min.css">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="/static/adminlte/dist/css/skins/_all-skins.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="/static/adminlte/plugins/iCheck/flat/blue.css">
  <!-- Morris chart -->
  <link rel="stylesheet" href="/static/adminlte/plugins/morris/morris.css">
  <!-- jvectormap -->
  <link rel="stylesheet" href="/static/adminlte/plugins/jvectormap/jquery-jvectormap-1.2.2.css">
  <!-- Date Picker -->
  <link rel="stylesheet" href="/static/adminlte/plugins/datepicker/datepicker3.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="/static/adminlte/plugins/daterangepicker/daterangepicker.css">
  <!-- bootstrap wysihtml5 - text editor -->
  <link rel="stylesheet" href="/static/adminlte/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">

  <!-- icon -->
  <link rel="shortcut icon" type="image/ico" href="/static/img/chatone_icon.ico">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!-- **************************************************************************** -->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-8466234525126114",
      enable_page_level_ads: true
    });
  </script>
  <!-- **************************************************************************** -->
<!-- *********************************************************************************** -->
<!-- [chat-manyone.com] Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-124200476-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-124200476-1');
</script>
<!-- *********************************************************************************** -->

</head>
<body class="hold-transition skin-green sidebar-mini">
<div class="wrapper">

  <header class="main-header">
    <!-- Logo -->
    <a href="/" class="logo">
      <!-- mini logo for sidebar mini 50x50 pixels -->
      <span class="logo-mini"></span>
      <!-- logo for regular state and mobile devices -->
      <span class="logo-lg">Chatone</span>
    </a>
    <!-- Header Navbar: style can be found in header.less -->
    <nav class="navbar navbar-static-top">
      <!-- Sidebar toggle button-->
      <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
        <span class="sr-only">Toggle navigation</span>
      </a>
    </nav>
  </header>
  <!-- Left side column. contains the logo and sidebar -->
  <aside class="main-sidebar">
    <!-- sidebar: style can be found in sidebar.less -->
    <section class="sidebar">
      <!-- Sidebar user panel -->
      <div class="user-panel">
        <div class="pull-left image">
            <img id="my-image" src="/static/img/user/noimage.png" class="img-circle" alt="User Image">
        </div>
        <div class="pull-left info">
            <p id="my-name"></p>
            <input id="my-name-edit" type="text" maxlength="15" style="color:black;width:100%;display:none;">
            <span id="my-id" style="font-size:7px"></span>
        </div>
      </div>
      <div class="user-panel">
        <p id="my-msg" style="color: white">メッセージを入力</p>
        <input id="my-msg-edit" type="text"  maxlength="25" style="width:100%;display:none;">
      </div>

      <div class="sidebar-form">
        <div class="">
            <div class="col-xs-6" style="padding-right: 0px;padding-left: 0px;">
              <button id="auto-search-btn"  type="button" class="btn btn-success" data-toggle="tooltip" style="width: 100%;background-color: #00a65a;color:white" data-original-title="" title="">
                自動検索
              </button>
            </div>
            <div class="col-xs-6" style="padding-right: 0px;padding-left: 0px;">
              <button id="del-hst-btn" type="button" class="btn btn-success" data-toggle="tooltip" style="width: 100%;background-color: #00a65a;color:white; margin-left:2px" data-original-title="" title="">
                履歴削除
              </button>
            </div>
        </div>
      </div>

      <!-- search form -->
      <div class="sidebar-form">
        <div class="input-group">
          <input id="id-search-text" type="text" name="q" class="form-control" placeholder="ID検索">
              <span class="input-group-btn">
                  <button id="id-search-btn" type="submit" name="search" class="btn btn-flat">
                      <i class="fa fa-search"></i>
                  </button>
              </span>
        </div>
      </div>
      <!-- search form -->
      <div class="sidebar-form">
        <div class="input-group">
          <input id="name-search-text" type="text" name="q" class="form-control" placeholder="名前検索">
              <span class="input-group-btn">
                <button type="submit" name="search" id="name-search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                </button>
              </span>
        </div>
      </div>
      <!-- /.search form -->
      <!-- search form -->
      <div class="sidebar-form">
        <div class="input-group">
          <input id="region-search-text" type="text" name="q" class="form-control" placeholder="地域検索">
              <span class="input-group-btn">
                <button type="submit" name="search" id="region-search-btn" class="btn btn-flat"><i class="fa fa-search"></i>
                </button>
              </span>
        </div>
      </div>
      <!-- /.search form -->
      <!-- sidebar menu: : style can be found in sidebar.less -->
      <!-- search form -->
      <div class="sidebar-form">
<!-- ************************************************************************************ -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad_unit1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8466234525126114"
     data-ad-slot="4618079043"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- ************************************************************************************ -->
      </div>

<!--
      <ul class="sidebar-menu">
        <li class="header">ナビゲーション</li>

        <li class="treeview">
          <a id="id-search-rst-title" href="#">
            <i class="fa fa-search"></i>
            <span id="id-search-rst-jyoken">ID</span>
            <span id="id-search-rst-count" class="pull-right-container">
            </span>
          </a>
          <ul id="id-search-rst" class="treeview-menu"></ul>
        </li>

        <li class="treeview">
          <a id="name-search-rst-title" href="#">
            <i class="fa fa-search"></i>
            <span id="name-search-rst-jyoken">名前</span>
            <span id="name-search-rst-count" class="pull-right-container">
            </span>
          </a>
          <ul id="name-search-rst" class="treeview-menu"></ul>
        </li>

        <li class="treeview">
          <a id="region-search-rst-title" href="#">
            <i class="fa fa-search"></i>
            <span id="region-search-rst-jyoken">地域</span>
            <span id="region-search-rst-count" class="pull-right-container">
            </span>
          </a>
          <ul id="region-search-rst" class="treeview-menu"></ul>
        </li>

        <li class="treeview">
          <a id="network-search-rst-title" href="#">
            <i class="fa fa-search"></i>
            <span>同じネットワーク</span>
            <span id="network-search-rst-count" class="pull-right-container">
            </span>
          </a>
          <ul id="network-search-rst" class="treeview-menu"></ul>
        </li>

    </section>
-->
    <!-- /.sidebar -->
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
    </section>

    <!-- Main content -->
    <section class="content">
    <!--
      <div class="row">
        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-aqua">
            <div class="inner">
              <h3>150</h3>
              <p>接続人数</p>
            </div>
            <div class="icon">
              <i class="ion ion-bag"></i>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-green">
            <div class="inner">
              <h3>53<sup style="font-size: 20px">%</sup></h3>
              <p>同じ地域の人数</p>
            </div>
            <div class="icon">
              <i class="ion ion-stats-bars"></i>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-yellow">
            <div class="inner">
              <h3>44</h3>
              <p>チャットした人数</p>
            </div>
            <div class="icon">
              <i class="ion ion-person-add"></i>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-xs-6">
          <div class="small-box bg-red">
            <div class="inner">
              <h3>65</h3>
              <p>メッセージ数</p>
            </div>
            <div class="icon">
              <i class="ion ion-pie-graph"></i>
            </div>
          </div>
        </div>
      </div>
    -->
      <!-- Main row -->
      <div class="row">
        <section class="col-lg-4">
          <div class="box">
            <div class="box-header" style="background-color: #00a65a;color: white">
              <h3 id="rst1-title" class="box-title">チャット相手</h3>
              <div class="box-tools pull-right" id="rst-tools1">
                <!--
                <div class="btn-group" data-toggle="btn-toggle">
                  <button type="button" class="btn btn-default btn-sm active" data-toggle="tooltip" title="チャット">
                    <i class="fa fa-comments-o"></i>
                  </button>
                  <button type="button" class="btn btn-default btn-sm" data-toggle="tooltip" title="ビデオ">
                    <i class="fa fa-video-camera" aria-hidden="true"></i>
                  </button>
                </div>
                -->
              </div>
            </div>
            <div class="box-body chat" id="rst-box1">
                <span id="rst-span2" style="margin:5px;"></span>
                <br>
                <span id="rst-span1" style="margin:5px;"></span>
                <div id="rst-div1">
                </div>
            </div>
          </div>

        </section>

        <!-- Left col -->
        <section class="col-lg-8 connectedSortable">
          <!-- Chat box1 -->
          <div class="box">
            <div class="box-header" style="background-color: #00a65a;color: white">
              <h3 id="chat1-title" class="box-title"></h3>
              <span id="chat1-subtitle" style="padding-left:5px"></span>
              <div class="box-tools pull-right">
                <!--
                <div class="btn-group" data-toggle="btn-toggle">
                  <button type="button" class="btn btn-default btn-sm active" data-toggle="tooltip" title="チャット">
                    <i class="fa fa-comments-o"></i>
                  </button>
                  <button type="button" class="btn btn-default btn-sm" data-toggle="tooltip" title="ビデオ">
                    <i class="fa fa-video-camera" aria-hidden="true"></i>
                  </button>
                </div>
                -->
              </div>
            </div>
            <div class="box-body chat" id="chat-box1">
                <div id="chat-box1-sysmsg" style="color: #BBBBBB;text-align: center">
                    <i class="fa fa-search fa-5x"></i>
                    <h1 style="color:#BBBBBB">メニューからチャット相手を検索して下さい</h1>
                </div>
            </div>
            <!-- /.chat -->
            <div class="box-footer">
              <div class="col-xs-10" style="padding-right: 0px;padding-left: 0px">
                <input id="chat1-text" class="form-control" placeholder="メッセージ入力" data-emojiable='true'>
              </div>
              <div class="col-xs-2" style="padding-right: 0px;padding-left: 0px;">
                <button id="chat1-btn-send" type="button" class="btn btn-success" data-toggle="tooltip" style="width: 100%">
                  送信
                </button>
              </div>
            </div>
          </div>
          <!-- /.box (chat box) -->
        </section>
        <!-- /.Left col -->
        <!--
        <section class="col-lg-3">
        </section>
        -->

        <section class="col-lg-12 connectedSortable">
<!-- ************************************************************************************ -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad_unit1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8466234525126114"
     data-ad-slot="4618079043"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- ************************************************************************************ -->
        </section>

        <!-- right col (We are only adding the ID to make the widgets sortable)-->
        <section class="col-lg-6 connectedSortable">

          <!-- Resv History Chat box2 -->
          <div class="box">
            <div class="box-header" style="background-color: #00a65a;color: white">
              <h3 id="chat2-title" class="box-title">受信履歴</h3>
              <span id="chat2-subtitle" style="padding-left:5px"></span>
              <div class="box-tools pull-right">
              </div>
            </div>
            <div class="box-body chat" id="chat-box2">
                <div id="chat-box2-sysmsg" style="color: #BBBBBB;text-align: center">
                    <i class="fa fa-ellipsis-h fa-5x"></i>
                    <h1 style="color:#BBBBBB">受信履歴はありません</h1>
                </div>
                <table id='resv_table' class='table table-bordered' style="display: none">
                    <thead id='resv_table_head'>
                       <tr>
                           <th class='col-xs-3'>名前</th>
                           <th class='col-xs-3'>時間</th>
                           <th class='col-xs-6'>内容</th>
                       </tr>
                    </thead>
                    <tbody id='resv_table_body'>
                    </tbody>
                </table>
            </div>
          </div>
        </section>
          <!-- /.box (chat box) -->

          <!-- Send History Chat box3 -->
        <section class="col-lg-6 connectedSortable">
          <div class="box">
            <div class="box-header" style="background-color: #00a65a;color: white">
              <h3 id="chat3-title" class="box-title">送信履歴</h3>
              <span id="chat3-subtitle" style="padding-left:5px"></span>
              <div class="box-tools pull-right">
              </div>
            </div>
            <div class="box-body chat" id="chat-box3">
                <div id="chat-box3-sysmsg" style="color: #BBBBBB;text-align: center">
                    <i class="fa fa-ellipsis-h fa-5x"></i>
                    <h1 style="color:#BBBBBB">送信履歴はありません</h1>
                </div>
                <table id='send_table' class='table table-bordered' style="display: none">
                    <thead id='send_table_head'>
                       <tr>
                           <th class='col-xs-3'>名前</th>
                           <th class='col-xs-3'>時間</th>
                           <th class='col-xs-6'>内容</th>
                       </tr>
                    </thead>
                    <tbody id='send_table_body'>
                    </tbody>
                </table>
            </div>
          </div>
        </section>
        <!-- right col -->
      </div>
      <!-- /.row (main row) -->
      <div class="row">
        <section class="col-lg-12">
<!-- ************************************************************************************ -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad_unit1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8466234525126114"
     data-ad-slot="4618079043"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- ************************************************************************************ -->
        </section>
      </div>

      <div class="row">
        <section class="col-lg-12">
          <!-- Msg History Chat box4 -->
          <div class="box">
            <div class="box-header" style="background-color: #00a65a;color: white">
              <h3 id="chat4-title" class="box-title">過去履歴</h3>
              <span id="chat4-subtitle" style="padding-left:5px"></span>
              <div class="box-tools pull-right">
              </div>
            </div>
            <div class="box-body chat" id="chat-box4">
                <table id='msg_table' class='table table-bordered'>
                    <thead id='msg_table_head'>
                       <tr>
                           <th class='col-xs-3'>名前</th>
                           <th class='col-xs-3'>時間</th>
                           <th class='col-xs-6'>内容</th>
                       </tr>
                    </thead>
                    <tbody id='msg_table_body'>
                    </tbody>
                </table>
            </div>
          </div>
        </section>
      </div>



    </section>
    <!-- /.content -->

<!-- ************************************************************************************ -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- ad_unit1 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8466234525126114"
     data-ad-slot="4618079043"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
<!-- ************************************************************************************ -->

  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer text-center">
    <a href="https://manyone7.com/" style="margin-right:20px">©メニワン株式会社</a>
    <a href="/" style="margin-right:20px">トップ</a>
    <a href="/rule" style="margin-right:20px">利用規約</a>
    <a href="/form" style="margin-right:20px">ご意見・ご要望</a>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Create the tabs -->
    <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
      <li><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
      <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
    </ul>
    <!-- Tab panes -->
    <div class="tab-content">
      <!-- Home tab content -->
      <div class="tab-pane" id="control-sidebar-home-tab">
        <h3 class="control-sidebar-heading">Recent Activity</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-birthday-cake bg-red"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Langdon's Birthday</h4>

                <p>Will be 23 on April 24th</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-user bg-yellow"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Frodo Updated His Profile</h4>

                <p>New phone +1(800)555-1234</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-envelope-o bg-light-blue"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Nora Joined Mailing List</h4>

                <p>nora@example.com</p>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <i class="menu-icon fa fa-file-code-o bg-green"></i>

              <div class="menu-info">
                <h4 class="control-sidebar-subheading">Cron Job 254 Executed</h4>

                <p>Execution time 5 seconds</p>
              </div>
            </a>
          </li>
        </ul>
        <!-- /.control-sidebar-menu -->

        <h3 class="control-sidebar-heading">Tasks Progress</h3>
        <ul class="control-sidebar-menu">
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Custom Template Design
                <span class="label label-danger pull-right">70%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-danger" style="width: 70%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Update Resume
                <span class="label label-success pull-right">95%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-success" style="width: 95%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Laravel Integration
                <span class="label label-warning pull-right">50%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-warning" style="width: 50%"></div>
              </div>
            </a>
          </li>
          <li>
            <a href="javascript:void(0)">
              <h4 class="control-sidebar-subheading">
                Back End Framework
                <span class="label label-primary pull-right">68%</span>
              </h4>

              <div class="progress progress-xxs">
                <div class="progress-bar progress-bar-primary" style="width: 68%"></div>
              </div>
            </a>
          </li>
        </ul>
        <!-- /.control-sidebar-menu -->

      </div>
      <!-- /.tab-pane -->
      <!-- Stats tab content -->
      <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div>
      <!-- /.tab-pane -->
      <!-- Settings tab content -->
      <div class="tab-pane" id="control-sidebar-settings-tab">
        <form method="post">
          <h3 class="control-sidebar-heading">General Settings</h3>

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Report panel usage
              <input type="checkbox" class="pull-right" checked>
            </label>

            <p>
              Some information about this general settings option
            </p>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Allow mail redirect
              <input type="checkbox" class="pull-right" checked>
            </label>

            <p>
              Other sets of options are available
            </p>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Expose author name in posts
              <input type="checkbox" class="pull-right" checked>
            </label>

            <p>
              Allow the user to show his name in blog posts
            </p>
          </div>
          <!-- /.form-group -->

          <h3 class="control-sidebar-heading">Chat Settings</h3>

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Show me as online
              <input type="checkbox" class="pull-right" checked>
            </label>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Turn off notifications
              <input type="checkbox" class="pull-right">
            </label>
          </div>
          <!-- /.form-group -->

          <div class="form-group">
            <label class="control-sidebar-subheading">
              Delete chat history
              <a href="javascript:void(0)" class="text-red pull-right"><i class="fa fa-trash-o"></i></a>
            </label>
          </div>
          <!-- /.form-group -->
        </form>
      </div>
      <!-- /.tab-pane -->
    </div>
  </aside>
  <!-- /.control-sidebar -->
  <!-- Add the sidebar's background. This div must be placed
       immediately after the control sidebar -->
  <div class="control-sidebar-bg"></div>
</div>
<!-- ./wrapper -->

<!-- jQuery 2.2.3 -->
<script src="/static/adminlte/plugins/jQuery/jquery-2.2.3.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>

<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button);
</script>

<script>


$(document).ready(function () {

    /* ------------------------------------------ */
    /* 初期設定
    /* ------------------------------------------ */
    _SOK = io.connect('//' + document.domain + ':' + location.port + '/sok');

    _SAVE_MSGCNT  = 100
    _INI_MYMSG  = "メッセージを入力"
    _INI_MYNAME = "名前を入力"
    _AUDIO_RESV1 = new Audio('/static/audio/notice_1.mp3');
    _AUDIO_RESV2 = new Audio('/static/audio/notice_2.mp3');
    _AUDIO_ERR1 = new Audio('/static/audio/error_1.mp3');
    _AUDIO_FLG = 1

    window.emojiPicker = new EmojiPicker({
      emojiable_selector: '[data-emojiable=true]',
      assetsPath: '/static/img/',
      popupButtonClasses: 'fa fa-smile-o'
    });
    window.emojiPicker.discover();

    // ログローテーション
    var w_chat_log = JSON.parse(localStorage.getItem("chat_log"))
    for (key in w_chat_log) {
      localStorage.setItem("chat_log", JSON.stringify(w_chat_log));
      if (_SAVE_MSGCNT >= Object.keys(JSON.parse(localStorage.getItem('chat_log'))).length) {
          break;
      }
      delete w_chat_log[key]
    }
    _IMG_LIST  = {1:"/static/img/user/noimage.png"
                ,2:"/static/img/user/a-man-1.png"
                ,3:"/static/img/user/a-man-3.png"
                ,4:"/static/img/user/a-man-4.png"
                ,5:"/static/img/user/a-man-5.png"
                ,6:"/static/img/user/a-man-6.png"
                ,7:"/static/img/user/b-woman-1.png"
                ,8:"/static/img/user/b-woman-3.png"
                ,9:"/static/img/user/b-woman-4.png"
                ,10:"/static/img/user/b-woman-5.png"
                ,11:"/static/img/user/b-woman-6.png"
                ,11:"/static/img/user/c-animal-1.png"
                ,12:"/static/img/user/c-animal-2.png"
                }
    _IMG_MAX_NUM = 12
    _MYID = ""
    _SOK.on('sok_srv_push_socket_id', function(msg) {
        _MYID = msg.socket_id
        $('#my-id').empty()
        $('#my-id').append(_MYID)
        // 初回アクセス
        if (localStorage.getItem('myname') == null ) {
          swal.setDefaults({
             input: 'text'
            ,inputAttributes: {'maxlength':15,'required':'required'}
            ,confirmButtonText: '次へ'
            ,progressSteps: ['1', '2']
            ,showConfirmButton: true
            ,showCancelButton:false
            ,allowOutsideClick: false
            ,allowEscapeKey: false
            ,allowEnterKey: false
          })
          var steps = [
            {
              title: 'Chatoneへようこそ！',
              text: 'あなたの名前を教えてください'
            }
           ,{
              title: '名前の入力ありがとう！',
              html:'<p>簡単な自己紹介を入力してください</p>'
                +  '<p>(例：大学生、寝るまで雑談、25歳男など)</p>'
            }
          ]
          swal.queue(steps).then((result) => {
            swal.resetDefaults()
            if (result[0] == ""　|| result[1] == "") {
              swal({
                   title: '名前と自己紹介は必須項目です'
                  ,text: "再度アクセスし名前と自己紹介を入力して下さい"
                  ,type: 'error'
                  ,allowOutsideClick: false
                  ,allowEscapeKey: false
                  ,allowEnterKey: false
                  ,showConfirmButton: false
              })
              _AUDIO_ERR1.play()
            }　else {
              swal({
                title: '準備完了'
               ,html:
                    '<p>' + result[0] +　'さん、Chatoneの開始準備が整いました！</p>'
                 +  '<p>メニューからチャット相手を検索できます。</p>'
                 +  '<p>検索した人の名前を押すとチャットBOXの画面が切り替わります。</p>'
                 +  '<p>他の人も同じようにあなたを見つけてチャットします。</p>'
                 +  '<p>受信履歴BOXにメッセージがたまっていくので返信したい場合はメッセージを押せばチャットBOXの画面が切り替わります。</p>'
               ,confirmButtonText: 'チャットを開始する'
              })
              _MYNAME = result[0]
              localStorage.setItem('myname', _MYNAME);
              _SOK.emit('sok_cli_upd_name', {
                  w_text: encodeURIComponent(_MYNAME)
              });
              _MYMSG = result[1]
              localStorage.setItem('mymsg', _MYMSG);
              _SOK.emit('sok_cli_upd_msg', {
                  w_text: encodeURIComponent(_MYMSG)
              });
              _MYIMG    = 1
              localStorage.setItem('myimg', _MYIMG);
              _SOK.emit('sok_cli_upd_img', {
                  w_text: encodeURIComponent(_MYIMG)
              });
              $('#my-name').empty()
              $('#my-name').append(_MYNAME)
              $('#my-msg').empty()
              $('#my-msg').append(_MYMSG)
              $("#my-image").attr("src",_IMG_LIST[_MYIMG])
            }
          })
        // 初回以外アクセス
        } else {
          $('#my-name').css("color","white")
          _MYNAME   = localStorage.getItem('myname')
          _SOK.emit('sok_cli_upd_name', {
              w_text: encodeURIComponent(_MYNAME)
          });
          $('#my-msg').css("color","white")
          _MYMSG   = localStorage.getItem('mymsg')
          _SOK.emit('sok_cli_upd_msg', {
              w_text: encodeURIComponent(_MYMSG)
          });
         _MYIMG    = localStorage.getItem('myimg')
          _SOK.emit('sok_cli_upd_img', {
              w_text: encodeURIComponent(_MYIMG)
          });
          $('#my-name').empty()
          $('#my-name').append(_MYNAME)
          $('#my-msg').empty()
          $('#my-msg').append(_MYMSG)
          $("#my-image").attr("src",_IMG_LIST[_MYIMG])
        }

        // 過去履歴
        var w_chat_log = JSON.parse(localStorage.getItem("chat_log"))
        for (key in w_chat_log) {
          if (w_chat_log[key]["type"] == "send") {
              w_tr = "<tr style='background-color:#D7FBE8'>"
              w_sign = "→"
          }
          if (w_chat_log[key]["type"] == "resv") {
              w_tr = "<tr style='background-color:#9DF3C4'>"
              w_sign = "←"
          }
          if (key != "First") {
            $('#msg_table').append(
                    w_tr
              +     "<td>" + _MYNAME + w_sign + w_chat_log[key]["name"] + "</td>"
              +     "<td>" + key + "</td>"
              +     "<td>" + w_chat_log[key]["msg"] + "</td>"
              + "</tr>"
            );
          }
        }
        $.extend( $.fn.dataTable.defaults, {
            language: { url: "https://cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Japanese.json" }
        });
        $("#msg_table").DataTable();
    })


    /* ------------------------------------------ */
    /* [Chat1]送信ボタン押下
    /* ------------------------------------------ */
    $(document).on('click', '#chat1-btn-send', function(){
        var now1   = fnc_get_now(1)
        var now2   = fnc_get_now(2)
        var now3   = fnc_get_now(3)
        var w_text = escapeHTML($("#chat1-text").val())
        $("#chat1-text").next("div").empty()
        var w_text = window.emojiPicker.appendUnicodeAsImageToElement($("#EMOJI_DUMMY"),w_text)
        var w_name = $('#chat1-title').text()
        var w_resv_socket_id = $('#chat1-subtitle').text()
        if (w_resv_socket_id == "") {
           w_resv_socket_id = $('#chat1-title').text()
        }
        var w_resv_name = $('#chat1-title').text()
        if (_MYNAME == _INI_MYNAME) {
          w_my_name = "自分"
        } else {
          w_my_name = _MYNAME
        }
        if (w_text != "" && w_resv_socket_id != "") {
            $('#chat-box1-sysmsg').remove()
            $('#chat-box1').prepend(
                   "<div class='item'>"
                +    "<img src='" + _IMG_LIST[_MYIMG] + "' alt='user image' class='online'>"
                +    "<p class='message'>"
                +      "<a class='name'>"
                +        "<small class='text-muted pull-right'><i class='fa fa-clock-o'></i>" + now1 + "</small>"
                +        _MYNAME
                +      "</a>"
                +      w_text
                +    "</p>"
                +  "</div>"
            )
            _SOK.emit('sok_cli_send_chat', {
                w_text: encodeURIComponent(w_text)
               ,resv_socket_id: w_resv_socket_id
            });
            $('#chat-box3-sysmsg').remove()
            $('#send_table').css('display','')
            $('#send_table_body').prepend(
                "<tr>"
              +     "<td>"
              +         w_resv_name
              +     "</td>"
              +     "<td>" + now2 + "</td>"
              +     "<td>" + w_text + "</td>"
              + "</tr>"
            );
            // ストレージ格納
            var w_data = JSON.parse(localStorage.getItem("chat_log"))
            if (w_data == null) {
                localStorage.setItem("chat_log", JSON.stringify({"First":{type:"", id:"", name:"", msg:""}}));
            }
            w_data[now3] = {type:"send", id:w_resv_socket_id ,name:w_resv_name, msg:w_text}
            localStorage.setItem("chat_log", JSON.stringify(w_data));
        }
    });
    /* ------------------------------------------ */
    /* [Chat1]受信イベント
    /* ------------------------------------------ */
    _SOK.on('sok_srv_send_chat', function(msg) {
        var now1 = fnc_get_now(1)
        var now2 = fnc_get_now(2)
        var now3 = fnc_get_now(3)
        var w_chat           = msg.chat
        var w_send_socket_id = msg.send_socket_id
        var w_send_name      = msg.send_name
        if (w_send_name == null) {
          w_send_name = w_send_socket_id
        }
        var w_send_msg       = msg.send_msg
        if (w_send_msg == null) {
          w_send_msg = ""
        }
        var w_send_img       = msg.send_img
        var w_send_region    = msg.send_region

        if ($('#chat1-title').text() == w_send_socket_id || $('#chat1-subtitle').text() == w_send_socket_id) {
          $('#chat-box1').prepend(
                 "<div class='item'>"
              +    "<img src='" + _IMG_LIST[w_send_img] + "' alt='user image' class='offline'>"
              +    "<p class='message'>"
              +      "<a class='name'>"
              +        "<small class='text-muted pull-right'><i class='fa fa-clock-o'></i>" + now1 + "</small>"
              +        "<span data-toggle='tooltip' title='" + w_send_region + "：" + w_send_msg + "'>"
              +             w_send_name
              +        "</span>"
              +      "</a>"
              +      w_chat
              +    "</p>"
              +  "</div>"
          )
        }
        $('#chat-box2-sysmsg').remove()
        $('#resv_table').css('display','')
        $('#resv_table_body').prepend(
            "<tr>"
          +     "<td id='" + w_send_socket_id + "' data-toggle='tooltip' title='"
          +         w_send_region + "：" + w_send_msg + "'>"
          +         "<a>" + w_send_name + "</a>"
          +     "</td>"
          +     "<td>" + now2 + "</td>"
          +     "<td>" + w_chat + "</td>"
          + "</tr>"
        );
        if (_AUDIO_FLG == 1) {_AUDIO_RESV2.play()}
        $(document).on('click', '#' + w_send_socket_id, function(){
            $('#chat1-title').empty()
            $('#chat1-title').append(w_send_name)
            if (w_send_name != w_send_socket_id) {
                $('#chat1-subtitle').empty()
                $('#chat1-subtitle').append(w_send_socket_id)
            }
            $('#chat-box1').empty()
            $('#chat-box1').append(
                   "<div class='item'>"
                +    "<img src='" + _IMG_LIST[w_send_img] + "' alt='user image' class='offline'>"
                +    "<p class='message'>"
                +      "<a class='name'>"
                +        "<small class='text-muted pull-right'><i class='fa fa-clock-o'></i>" + now1 + "</small>"
                +        "<span data-toggle='tooltip' title='" + w_send_region + "：" + w_send_msg + "'>"
                +             w_send_name
                +        "</span>"
                +      "</a>"
                +      w_chat
                +    "</p>"
                +  "</div>"
            )
        })
        $("#chat1-text").removeAttr("disabled")
        $("#chat1-btn-send").removeAttr("disabled")

        // ストレージ格納
        var w_data = JSON.parse(localStorage.getItem("chat_log"))
        if (w_data == null) {
            localStorage.setItem("chat_log", JSON.stringify({"First":{type:"", id:"", name:"", msg:""}}));
        }
        w_data[now3] = {type:"resv", id:w_send_socket_id ,name:w_send_name, msg:w_chat}
        localStorage.setItem("chat_log", JSON.stringify(w_data));

    });

    /* ------------------------------------------ */
    /* [Chat1]送信NGイベント
    /* ------------------------------------------ */
    _SOK.on('sok_srv_send_chat_ng', function(msg) {
        var w_resv_socket_id = msg.resv_socket_id
        $('#chat-box1').prepend(
             "<div id='chat-box1-sysmsg' style='color: #BBBBBB;text-align: center'>"
           +     "<i class='fa fa-close fa-5x'></i>"
           +     "<h1 style='color:#BBBBBB'>送信に失敗しました</h1>"
           +     "<p style='color:#BBBBBB'>チャット相手がいなくなりました</p>"
           +     "<p style='color:#BBBBBB'>再度検索でチャット相手を探して下さい</p>"
           + "</div>"
        )
        $("#chat1-text").attr("disabled","disabled")
        $("#chat1-btn-send").attr("disabled","disabled")
    })

    /* ------------------------------------------ */
    /* 履歴削除
    /* ------------------------------------------ */
    $(document).on('click', '#del-hst-btn', function(){
        swal({
             title: '履歴削除'
            ,text: "本当に履歴を削除しますか？"
            ,type: 'warning'
            ,showConfirmButton: true
        }).then((result) => {
          if (result) {
            localStorage.removeItem("chat_log")
            swal(
              '成功！',
              '履歴を削除しました',
              'success'
            )
          }
        })
    })
    /* ------------------------------------------ */
    /* 自動検索
    /* ------------------------------------------ */
    $(document).on('click', '#auto-search-btn', function(){
        $('#rst-div1').empty()
        $('#rst-span1').empty()
        $('#rst-span1').append("<span>相手が見つかりませんでした</span>")
        $('#rst-span2').empty()
        $('#rst-span2').append("<span>自動検索</span>")
        $('#rst-tools1').empty()
        _SOK.emit('sok_cli_search_auto', {});
    })
    _SOK.on('sok_srv_search_auto', function(msg) {
        w_socket_id = msg.socket_id
        w_name      = msg.name
        w_region    = msg.region
        if (w_region == null) {
          w_region = ""
        }
        w_msg       = msg.msg
        if (w_msg == null) {
          w_msg = ""
        } else {
          w_msg = "：" + w_msg
        }
        w_rst_cnt   = msg.rst_cnt
        $('#rst-span1').empty()
        $('#rst-span1').append(
          "<span>" + w_rst_cnt + "人の相手が見つかりました</span>"
        )
        $('#rst-div1').append(
            "<p style='font-size:20px;margin:5px;border-bottom:1px solid #999' data-toggle='tooltip' title='" + w_region + w_msg + "'>"
          +   "<a id='" + w_socket_id +"' name='" + w_name + "'>" + w_name + "</a>"
          + "</p>"
        )
        $(document).off('click', '#' + w_socket_id)
        $(document).on('click', '#' + w_socket_id, function(){
            w_socket_id = $(this).attr("id");
            w_name      = $(this).attr("name");
            $('#chat1-title').empty()
            $('#chat1-title').append(w_name)
            if (w_name != w_socket_id) {
                $('#chat1-subtitle').empty()
                $('#chat1-subtitle').append(w_socket_id)
            }
            $('#chat-box1').empty()
            $("#chat1-text").removeAttr("disabled")
            $("#chat1-btn-send").removeAttr("disabled")
        })
    })
    // 起動時に自動で検索する
    $("#auto-search-btn").click()

    /* ------------------------------------------ */
    /* ID検索
    /* ------------------------------------------ */
    $(document).on('click', '#id-search-btn', function(){
        var w_text = escapeHTML($("#id-search-text").val())
        if (w_text != "") {
          $('#id-search-rst-jyoken').empty()
          $('#id-search-rst-jyoken').append("ID("+ w_text + ")")
          $('#rst-div1').empty()
          $('#rst-span1').empty()
          $('#rst-span1').append("<span>相手が見つかりませんでした</span>")
          $('#rst-span2').empty()
          $('#rst-span2').append("<span>ID検索:" + w_text + "</span>")
          $('#rst-tools1').empty()
          _SOK.emit('sok_cli_search_id', {
              w_text: encodeURIComponent(w_text)
          });
        }
    })
    _SOK.on('sok_srv_search_id', function(msg) {
        w_socket_id = msg.socket_id
        w_name      = msg.name
        w_region    = msg.region
        if (w_region == null) {
          w_region = ""
        }
        w_msg       = msg.msg
        if (w_msg == null) {
          w_msg = ""
        } else {
          w_msg = "：" + w_msg
        }
        w_rst_cnt   = msg.rst_cnt
        $('#rst-span1').empty()
        $('#rst-span1').append(
          "<span>" + w_rst_cnt + "人の相手が見つかりました</span>"
        )
        $('#rst-div1').append(
            "<p style='font-size:20px;margin:5px;border-bottom:1px solid #999' data-toggle='tooltip' title='" + w_region + w_msg + "'>"
          +   "<a id='" + w_socket_id +"' name='" + w_name + "'>" + w_name + "</a>"
          + "</p>"
        )
        $(document).on('click', '#' + w_socket_id, function(){
            w_socket_id = $(this).attr("id");
            w_name      = $(this).attr("name");
            $('#chat1-title').empty()
            $('#chat1-title').append(w_name)
            if (w_name != w_socket_id) {
                $('#chat1-subtitle').empty()
                $('#chat1-subtitle').append(w_socket_id)
            }
            $('#chat-box1').empty()
            $("#chat1-text").removeAttr("disabled")
            $("#chat1-btn-send").removeAttr("disabled")
        })
    })

    /* ------------------------------------------ */
    /* 名前検索
    /* ------------------------------------------ */
    $(document).on('click', '#name-search-btn', function(){
        var w_text = escapeHTML($("#name-search-text").val())
        if (w_text != "") {
          $('#name-search-rst-jyoken').empty()
          $('#name-search-rst-jyoken').append("名前("+ w_text + ")")
          $('#rst-div1').empty()
          $('#rst-span1').empty()
          $('#rst-span1').append("<span>相手が見つかりませんでした</span>")
          $('#rst-span2').empty()
          $('#rst-span2').append("<span>名前検索:" + w_text + "</span>")
          $('#rst-tools1').empty()
          _SOK.emit('sok_cli_search_name', {
              w_text: encodeURIComponent(w_text)
          });
        }
    })
    _SOK.on('sok_srv_search_name', function(msg) {
        w_socket_id = msg.socket_id
        w_name      = msg.name
        w_region    = msg.region
        if (w_region == null) {
          w_region = ""
        }
        w_msg       = msg.msg
        if (w_msg == null) {
          w_msg = ""
        } else {
          w_msg = "：" + w_msg
        }
        w_rst_cnt   = msg.rst_cnt
        $('#rst-span1').empty()
        $('#rst-span1').append(
          "<span>" + w_rst_cnt + "人の相手が見つかりました</span>"
        )
        $('#rst-div1').append(
            "<p style='font-size:20px;margin:5px;border-bottom:1px solid #999' data-toggle='tooltip' title='" + w_region + w_msg + "'>"
          +   "<a id='" + w_socket_id +"' name='" + w_name + "'>" + w_name + "</a>"
          + "</p>"
        )
        $(document).on('click', '#' + w_socket_id, function(){
            w_socket_id = $(this).attr("id");
            w_name      = $(this).attr("name");
            $('#chat1-title').empty()
            $('#chat1-title').append(w_name)
            if (w_name != w_socket_id) {
                $('#chat1-subtitle').empty()
                $('#chat1-subtitle').append(w_socket_id)
            }
            $('#chat-box1').empty()
            $("#chat1-text").removeAttr("disabled")
            $("#chat1-btn-send").removeAttr("disabled")
        })
    })

   /* ------------------------------------------ */
    /* 地域検索
    /* ------------------------------------------ */
    $(document).on('click', '#region-search-btn', function(){
        var w_text = escapeHTML($("#region-search-text").val())
        if (w_text != "") {
          $('#region-search-rst-jyoken').empty()
          $('#region-search-rst-jyoken').append("地域("+ w_text + ")")
          $('#rst-div1').empty()
          $('#rst-span1').empty()
          $('#rst-span1').append("<span>相手が見つかりませんでした</span>")
          $('#rst-span2').empty()
          $('#rst-span2').append("<span>地域検索:" + w_text + "</span>")
          $('#region-search-rst-count').empty()
          _SOK.emit('sok_cli_search_region', {
              w_text: encodeURIComponent(w_text)
          });
        }
    })
    _SOK.on('sok_srv_search_region', function(msg) {
        w_socket_id = msg.socket_id
        w_name      = msg.name
        w_region    = msg.region
        if (w_region == null) {
          w_region = ""
        }
        w_msg       = msg.msg
        if (w_msg == null) {
          w_msg = ""
        } else {
          w_msg = "：" + w_msg
        }
        w_rst_cnt   = msg.rst_cnt
        $('#rst-span1').empty()
        $('#rst-span1').append(
          "<span>" + w_rst_cnt + "人の相手が見つかりました</span>"
        )
        $('#rst-div1').append(
            "<p style='font-size:20px;margin:5px;border-bottom:1px solid #999' data-toggle='tooltip' title='" + w_region + w_msg + "'>"
          +   "<a id='" + w_socket_id +"' name='" + w_name + "'>" + w_name + "</a>"
          + "</p>"
        )
        $(document).on('click', '#' + w_socket_id, function(){
            w_socket_id = $(this).attr("id");
            w_name      = $(this).attr("name");
            $('#chat1-title').empty()
            $('#chat1-title').append(w_name)
            if (w_name != w_socket_id) {
                $('#chat1-subtitle').empty()
                $('#chat1-subtitle').append(w_socket_id)
            }
            $('#chat-box1').empty()
            $("#chat1-text").removeAttr("disabled")
            $("#chat1-btn-send").removeAttr("disabled")
        })
    })

   /* ------------------------------------------ */
    /* 同じネットワーク検索
    /* ------------------------------------------ */
    $(document).on('click', '#network-search-rst-title', function(){
         $('#network-search-rst').empty()
         $('#network-search-rst-count').empty()
        _SOK.emit('sok_cli_search_network', {});
    })
    _SOK.on('sok_srv_search_network', function(msg) {
        w_socket_id = msg.socket_id
        w_name      = msg.name
        w_region    = msg.region
        if (w_region == null) {
          w_region = ""
        }
        w_msg       = msg.msg
        if (w_msg == null) {
          w_msg = ""
        } else {
          w_msg = "：" + w_msg
        }
        w_rst_cnt   = msg.rst_cnt
        $('#network-search-rst').append(
            "<li data-toggle='tooltip' title='" + w_region + w_msg + "'>"
          +   "<a id='" + w_socket_id +"'>" + w_name + "</a>"
          + "</li>"
        )
        $(document).on('click', '#' + w_socket_id, function(){
            $('#chat1-title').empty()
            $('#chat1-title').append(w_name)
            if (w_name != w_socket_id) {
                $('#chat1-subtitle').empty()
                $('#chat1-subtitle').append(w_socket_id)
            }
            $('#chat-box1').empty()
            $("#chat1-text").removeAttr("disabled")
            $("#chat1-btn-send").removeAttr("disabled")
        })
        $('#network-search-rst-count').empty()
        $('#network-search-rst-count').append(
            "<small class='label pull-right bg-green'>" + w_rst_cnt + "</small>"
        )
    })



    /* ------------------------------------------ */
    /* イメージ編集
    /* ------------------------------------------ */
    $(document).on('click', '#my-image', function(){
        _MYIMG = parseInt(_MYIMG) + 1
        if ( _MYIMG > _IMG_MAX_NUM) {
            _MYIMG = 1
        }
        localStorage.setItem('myimg', _MYIMG);
        $("#my-image").attr("src",_IMG_LIST[_MYIMG])

        _SOK.emit('sok_cli_upd_img', {
            w_text: encodeURIComponent(_MYIMG)
        });
    })
    /* ------------------------------------------ */
    /* メッセージ編集
    /* ------------------------------------------ */
    $(document).on('click', '#my-msg', function(){
        var mymsg = $('#my-msg').text()
        if (mymsg != _INI_MYMSG) {
          $('#my-msg-edit').val(mymsg)
        }
        $('#my-msg-edit').css('display','')
        $('#my-msg').css('display','none')
        $('#my-msg-edit').focus()
    })
    $(document).on('blur','#my-msg-edit', function() {
        var w_text = $('#my-msg-edit').val()
        if (w_text == "") {
            $('#my-msg-edit').css('display','none')
            $('#my-msg').css('display','')
        } else {
            $('#my-msg').css("color","white")
            $('#my-msg').empty()
            $('#my-msg').append(w_text)
            $('#my-msg-edit').css('display','none')
            $('#my-msg').css('display','')
            if (w_text != _INI_MYMSG) {
              localStorage.setItem('mymsg', w_text);
              _SOK.emit('sok_cli_upd_msg', {
                  w_text: encodeURIComponent(w_text)
              });
            }
        }
    });
    /* ------------------------------------------ */
    /* 名前編集
    /* ------------------------------------------ */
    $(document).on('click', '#my-name', function(){
        var myname = $('#my-name').text()
        if (myname != _INI_MYNAME) {
          $('#my-name-edit').val(myname)
        }
        $('#my-name-edit').css('display','')
        $('#my-name').css('display','none')
        $('#my-name-edit').focus()
    })
    $(document).on('blur','#my-name-edit', function() {
        var w_text = $('#my-name-edit').val()
        if (w_text == "") {
            $('#my-name-edit').css('display','none')
            $('#my-name').css('display','')
        } else {
            $('#my-name').css("color","white")
            $('#my-name').empty()
            $('#my-name').append(w_text)
            $('#my-name-edit').css('display','none')
            $('#my-name').css('display','')
            if (w_text != _INI_MYNAME) {
              localStorage.setItem('myname', w_text);
              _SOK.emit('sok_cli_upd_name', {
                  w_text: encodeURIComponent(w_text)
              });
            }
        }
    });

/* ------------------------------------------ */
/* 処理: 現在日時を取得する                      */
/* 概要:                                      */
/* 備考:                                      */
/* ------------------------------------------ */
function fnc_get_now(type){
    var now   = new Date();
    var year  = now.getFullYear();
    var month = ('00' + (now.getMonth() + 1)).slice(-2);
    var day   = ('00' + now.getDate()).slice(-2);
    var hour  = ('00' + now.getHours()).slice(-2);
    var min   = ('00' + now.getMinutes()).slice(-2);
    var sec   = ('00' + now.getSeconds()).slice(-2);

    var rtn = ""
    if (type == 1) {
      rtn = hour + ':' + min
    }
    if (type == 2) {
      rtn = year + "/" + month + "/" + day + " " + hour + ":" + min
    }
    if (type == 3) {
      rtn = year + "/" + month + "/" + day + " " + hour + ":" + min + ":" + sec
    }

    return rtn;
}

})
</script>

<link rel="stylesheet" href="/static/css/emoji.css">
<script src="/static/js/emoji/config.js"></script>
<script src="/static/js/emoji/util.js"></script>
<script src="/static/js/emoji/jquery.emojiarea.js"></script>
<script src="/static/js/emoji/emoji-picker.js"></script>

<!-- Original -->
<script src="/static/js/manyone_function.js?var=2"></script>

<!-- socket.io -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.slim.js"></script>

<!-- jquery.dataTables -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">
<script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>

<!-- sweetalert2 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.5/sweetalert2.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/6.6.5/sweetalert2.js"></script>

<!-- Bootstrap 3.3.6 -->
<script src="/static/adminlte/bootstrap/js/bootstrap.min.js"></script>
<!-- Morris.js charts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<script src="/static/adminlte/plugins/morris/morris.min.js"></script>
<!-- Sparkline -->
<script src="/static/adminlte/plugins/sparkline/jquery.sparkline.min.js"></script>
<!-- jvectormap -->
<script src="/static/adminlte/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
<script src="/static/adminlte/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
<!-- jQuery Knob Chart -->
<script src="/static/adminlte/plugins/knob/jquery.knob.js"></script>
<!-- daterangepicker -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
<script src="/static/adminlte/plugins/daterangepicker/daterangepicker.js"></script>
<!-- datepicker -->
<script src="/static/adminlte/plugins/datepicker/bootstrap-datepicker.js"></script>
<!-- Bootstrap WYSIHTML5 -->
<script src="/static/adminlte/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
<!-- Slimscroll -->
<script src="/static/adminlte/plugins/slimScroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="/static/adminlte/plugins/fastclick/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="/static/adminlte/dist/js/app.min.js"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="/static/adminlte/dist/js/pages/dashboard.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/static/adminlte/dist/js/demo.js"></script>
</body>
</html>
